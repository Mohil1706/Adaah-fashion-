<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Cart</title>
<style>
/* ---------------- BODY ---------------- */
body {
    font-family: Inter, Arial, sans-serif;
    padding: 12px;
    margin: 0;
    background: #f5f5f5;
}

h2 {
    text-align: center;
    font-size: 50px;
    margin-bottom: 20px;
}

/* ---------------- CART ITEM CARD ---------------- */
.cart-item {
    background: #fff;
    border-radius: 16px;
    padding: 16px;
    margin-bottom: 16px;
    display: flex;
    flex-direction: column;
    align-items: center;
    box-shadow: 0 3px 10px rgba(0,0,0,0.08);
}

.cart-item img {
    width: 90%;
    max-width: 280px;
    height: auto;
    border-radius: 16px;
    margin-bottom: 12px;
    cursor: pointer;
}

.item-info {
    width: 100%;
    text-align: center;
}

.item-info strong {
    display: block;
    font-size: 20px;
    margin-bottom: 8px;
}

.item-info div {
    font-size: 16px;
    margin: 4px 0;
}

/* ---------------- QUANTITY & BUTTONS ---------------- */
.qty {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-top: 12px;
    flex-wrap: wrap;
}

.qty input {
    width: 80px;
    padding: 8px;
    border-radius: 6px;
    border: 1px solid #ddd;
    font-size: 16px;
    text-align: center;
}

.btn {
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    border: none;
    font-size: 16px;
}

.remove {
    background: #ff6b6b;
    color: #fff;
}

/* ---------------- SHOP MORE ---------------- */
.shop-more {
    display: block;
    width: 100%;
    background: #111;
    color: #fff;
    padding: 18px;
    border-radius: 16px;
    font-size: 18px;
    text-align: center;
    text-decoration: none;
    margin-top: 20px;
}

/* ---------------- TOTAL ---------------- */
#cartSummary {
    font-size: 20px;
    font-weight: 700;
    text-align: center;
    margin-bottom: 12px;
}

/* ---------------- RESPONSIVE ---------------- */
@media(max-width: 480px) {
    .cart-item img {
        max-width: 100%;
    }
    .item-info strong {
        font-size: 22px;
    }
    .item-info div {
        font-size: 18px;
    }
    .qty input {
        width: 90px;
        font-size: 18px;
    }
    .btn {
        font-size: 18px;
        padding: 12px 20px;
    }
    .shop-more {
        font-size: 20px;
        padding: 20px;
    }
}

@media(max-width: 360px) {
    .cart-item {
        padding: 14px;
    }
    .cart-item img {
        max-width: 95%;
    }
    .item-info strong {
        font-size: 20px;
    }
    .item-info div {
        font-size: 16px;
    }
    .btn {
        font-size: 16px;
        padding: 10px 14px;
    }
    .qty input {
        width: 80px;
        font-size: 16px;
    }
    .shop-more {
        font-size: 18px;
        padding: 18px;
    }
}

@media(max-width: 280px) {
    .cart-item img {
        max-width: 100%;
    }
    .item-info strong {
        font-size: 18px;
    }
    .item-info div {
        font-size: 14px;
    }
    .btn {
        font-size: 14px;
        padding: 8px 12px;
    }
    .qty input {
        width: 70px;
        font-size: 14px;
    }
    .shop-more {
        font-size: 16px;
        padding: 16px;
    }
}
</style>
</head>
<body>

<h2>Your Cart</h2>

<div id="cartContainer"></div>
<div id="cartSummary"></div>

<!-- Shop More -->
<a href="index.html" class="shop-more">Shop More</a>

<script>
// ---- Render Cart ----
function renderCart() {
    const container = document.getElementById('cartContainer');
    container.innerHTML = '';
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');

    if (cart.length === 0) {
        container.innerHTML = '<p style="text-align:center;">Your cart is empty.</p>';
        document.getElementById('cartSummary').textContent = '';
        return;
    }

    let total = 0;

    cart.forEach((item, idx) => {
        const subTotal = (item.price || 0) * (item.qty || 1);
        total += subTotal;

        const itemEl = document.createElement('div');
        itemEl.className = 'cart-item';

        itemEl.innerHTML = `
            <img src="${item.img}" alt="${item.name}" data-id="${item.id}">
            <div class="item-info">
                <a href="product-detail.html?id=${encodeURIComponent(item.id)}"
                   style="text-decoration:none; color:black;">
                    <strong>${item.name}</strong>
                </a>
                <div>Size: ${item.size}</div>
                <div>Price: ₹${item.price} x ${item.qty} = ₹${subTotal}</div>
                <div class="qty">
                    <button class="btn dec" data-idx="${idx}">-</button>
                    <input type="number" min="1" value="${item.qty}" data-idx="${idx}" class="qty-input">
                    <button class="btn inc" data-idx="${idx}">+</button>
                    <button class="btn remove" data-idx="${idx}">Remove</button>
                </div>
            </div>
        `;
        container.appendChild(itemEl);
    });

    document.getElementById('cartSummary').textContent = `Total: ₹${total}`;
    attachCartEvents();
}

// ---- Attach Events ----
function attachCartEvents() {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');

    document.querySelectorAll('.remove').forEach(btn => {
        btn.addEventListener('click', e => {
            const idx = parseInt(e.currentTarget.dataset.idx);
            cart.splice(idx, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        });
    });

    document.querySelectorAll('.inc').forEach(btn => {
        btn.addEventListener('click', e => {
            const idx = parseInt(e.currentTarget.dataset.idx);
            cart[idx].qty += 1;
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        });
    });

    document.querySelectorAll('.dec').forEach(btn => {
        btn.addEventListener('click', e => {
            const idx = parseInt(e.currentTarget.dataset.idx);
            cart[idx].qty = Math.max(1, cart[idx].qty - 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        });
    });

    document.querySelectorAll('.qty-input').forEach(input => {
        input.addEventListener('change', e => {
            const idx = parseInt(e.currentTarget.dataset.idx);
            const val = Math.max(1, parseInt(e.currentTarget.value));
            cart[idx].qty = val;
            localStorage.setItem('cart', JSON.stringify(cart));
            renderCart();
        });
    });

    // Click image → product detail
    document.querySelectorAll('.cart-item img').forEach(img => {
        img.addEventListener('click', () => {
            const id = img.dataset.id;
            window.location.href = `product-detail.html?id=${encodeURIComponent(id)}`;
        });
    });
}

renderCart();
</script>

</body>
</html>

