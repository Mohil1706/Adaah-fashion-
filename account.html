<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Account Page</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Poppins', sans-serif;
    margin:0;
    padding:0;
    background: url('images/bg.jpg') no-repeat center center fixed;
    background-size: cover;
    color: #fff;
  }

  .container {
    max-width: 500px;
    margin: 80px auto;
    background: rgba(117, 112, 112, 0.85);
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    text-align: center;
  }

  h2 {
    margin-bottom: 20px;
    color: #fff;
    font-weight: 600;
  }

  .btn {
    padding: 12px 25px;
    background:#fff;
    color:#000;
    border:none;
    border-radius:15px;
    cursor:pointer;
    font-weight: 600;
    margin:5px;
    transition: 0.3s;
    
    
  }
  .btn:hover { background:#b7b3b3; }

  /* Modal / Popup */
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left:0; top:0;
    width:100%; height:100%;
    background: rgba(0, 0, 0, 0.7);
    justify-content: center;
    align-items: center;
  }
  .modal-content {
    background:#e7c49b;
    color:#060606;
    padding: 25px 30px;
    border-radius: 20px;
    width: 90%;
    max-width:400px;
    position: relative;
    text-align: left;
    margin-left: 30px;
    margin-right: 30px
    border-right-width: 4px;
    padding-right: 50px;

  }
  .modal-content h3 {
    margin-top:0;
    text-align: center;
  }
  .close {
    position:absolute;
    top:10px; right:15px;
    font-size: 20px;
    cursor:pointer;
  }
  input[type="text"], input[type="email"], input[type="password"], input[type="file"] {
    width: 94%;
    padding: 12px;
    margin:10px 0;
    border-radius:8px;
    border:1px solid #ccc;
    font-size: 14px;
  }

  /* User Info */
  .user-info {
    display:flex;
    align-items:center;
    gap:20px;
    flex-wrap: wrap;
    margin-top: 20px;
    color: #fff;
  }
  .user-info img {
    width:120px;
    height:120px;
    border-radius:50%;
    object-fit:cover;
    border:2px solid #fff;
  }
  .user-info div {
    flex:1;
    text-align:left;
  }
  .success-msg {
    background:#fff;
    color:#000;
    padding:10px 15px;
    border-radius:15px;
    margin-bottom:10px;
    text-align:center;
    font-weight:600;
  }

  @media(max-width:600px){
    .user-info {
      flex-direction:column;
      text-align:center;
    }
    .user-info div { text-align:center; }
  }
  /* Mobile devices only: max-width 480px */
@media screen and (max-width: 480px) {
  body {
    font-size: 14px;
  }

  .container {
    margin: 20px 10px;
    padding: 15px;
    width: 95%;
    border-radius: 10px;
  }

  /* Logo adjustments */
  .container > div img {
    width: 100px;
    height: auto;
  }

  h2 {
    font-size: 22px;
    margin-bottom: 15px;
  }

  /* Buttons full width */
  .btn {
    width: 100%;
    padding: 12px 0;
    margin: 8px 0;
    font-size: 14px;
  }

  /* Modal content adjustments */
  .modal-content {
    width: 95%;
    padding: 20px 15px;
  }

  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="file"] {
    padding: 10px;
    font-size: 13px;
  }

  /* User info vertical stack */
  .user-info {
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 15px;
  }

  .user-info img {
    width: 100px;
    height: 100px;
    border-width: 2px;
  }

  .user-info div {
    width: 100%;
  }

  .success-msg {
    font-size: 14px;
    padding: 8px 10px;
  }
}

</style>
</head>
<body>

<div class="container">
  <!-- Logo -->
  <div style="text-align:center; margin-bottom:20px;">
    <img src="images/ad1.png" alt="Logo" style="width:120px; height:auto;">
  </div>

  <h2>My Account</h2>
  <div id="account-section">
    <!-- Login/Register buttons if not logged in -->
    <button class="btn" id="login-btn">Login</button>
    <button class="btn" id="register-btn">Register</button>
  </div>


  <!-- User Info Section -->
  <div id="user-section" style="display:none;">
    <div class="success-msg" id="welcome-msg">Welcome, User!</div>
    <div class="user-info">
      <img id="user-photo" src="" alt="User Photo">
      <div>
        <p><strong>Name:</strong> <span id="user-name"></span></p>
        <p><strong>Email:</strong> <span id="user-email"></span></p>
      </div>
    </div>
    <br>
    <button class="btn" id="logout-btn">Logout</button>
  </div>
</div>

<!-- Login Modal -->
<div class="modal" id="login-modal">
  <div class="modal-content">
    <span class="close" id="close-login">&times;</span>
    <h3>Login</h3>
    <input type="email" id="login-email" placeholder="Email" required>
    <input type="password" id="login-password" placeholder="Password" required>
    <button class="btn" id="login-submit">Login</button>
  </div>
</div>

<!-- Register Modal -->
<div class="modal" id="register-modal">
  <div class="modal-content">
    <span class="close" id="close-register">&times;</span>
    <h3>Register</h3>
    <input type="text" id="register-name" placeholder="Full Name" required>
    <input type="email" id="register-email" placeholder="Email" required>
    <input type="password" id="register-password" placeholder="Password" required>
    <input type="file" id="register-photo" accept="image/*">
    <button class="btn" id="register-submit">Register</button>
  </div>
</div>

<script>
// Show modals
const loginBtn = document.getElementById('login-btn');
const registerBtn = document.getElementById('register-btn');
const loginModal = document.getElementById('login-modal');
const registerModal = document.getElementById('register-modal');
const closeLogin = document.getElementById('close-login');
const closeRegister = document.getElementById('close-register');

loginBtn.onclick = () => loginModal.style.display = 'flex';
registerBtn.onclick = () => registerModal.style.display = 'flex';
closeLogin.onclick = () => loginModal.style.display = 'none';
closeRegister.onclick = () => registerModal.style.display = 'none';
window.onclick = (e) => {
    if(e.target === loginModal) loginModal.style.display = 'none';
    if(e.target === registerModal) registerModal.style.display = 'none';
}

// Register
document.getElementById('register-submit').addEventListener('click', () => {
    const name = document.getElementById('register-name').value.trim();
    const email = document.getElementById('register-email').value.trim();
    const password = document.getElementById('register-password').value;
    const photoInput = document.getElementById('register-photo');

    if(!name || !email || !password){ alert("All fields are required"); return; }

    const reader = new FileReader();
    reader.onload = function(){
        const user = {name,email,password,photo: reader.result};
        let users = JSON.parse(localStorage.getItem('users')) || [];
        users.push(user);
        localStorage.setItem('users', JSON.stringify(users));
        alert("Registration Successful!");
        registerModal.style.display = 'none';
        showUser(user);
    };
    if(photoInput.files[0]){
        reader.readAsDataURL(photoInput.files[0]);
    } else {
        const user = {name,email,password,photo:'https://via.placeholder.com/120'};
        let users = JSON.parse(localStorage.getItem('users')) || [];
        users.push(user);
        localStorage.setItem('users', JSON.stringify(users));
        alert("Registration Successful!");
        registerModal.style.display = 'none';
        showUser(user);
    }
});

// Login
document.getElementById('login-submit').addEventListener('click', () => {
    const email = document.getElementById('login-email').value.trim();
    const password = document.getElementById('login-password').value;
    let users = JSON.parse(localStorage.getItem('users')) || [];
    let user = users.find(u => u.email === email && u.password === password);
    if(user){
        alert("Login Successful!");
        loginModal.style.display = 'none';
        showUser(user);
    } else {
        alert("Invalid Email or Password");
    }
});

// Show user info
function showUser(user){
    document.getElementById('account-section').style.display='none';
    document.getElementById('user-section').style.display='block';
    document.getElementById('user-name').innerText = user.name;
    document.getElementById('user-email').innerText = user.email;
    document.getElementById('user-photo').src = user.photo;
    localStorage.setItem('loggedInUser', JSON.stringify(user));
}

// Logout
document.getElementById('logout-btn').addEventListener('click', () => {
    localStorage.removeItem('loggedInUser');
    document.getElementById('user-section').style.display='none';
    document.getElementById('account-section').style.display='block';
});

// Check if user already logged in
window.onload = () => {
    const user = JSON.parse(localStorage.getItem('loggedInUser'));
    if(user) showUser(user);
};
</script>

</body>
</html>


